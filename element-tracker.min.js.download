/*! Element Tracker - v1.2.1 - 2016-04-20
* Copyright (c) 2016 Globo.com; Licensed MIT */
!function(a,b){"use strict";var c=b(a);a._gaq=a._gaq||[],a.glb=a.glb||{},a.glb.ElementTracker=a.glb.ElementTracker||function(){function d(){return g(),h(),i(),this}function e(){b("body").off(".event-tracker"),b(a).off(".event-tracker")}function f(){return A}function g(){b("body").on("click.event-tracker","[data-track-click]",function(){return k(b(this)),!0})}function h(){p(),q(),r()}function i(){b("body").on("click.event-tracker","[data-track-links]",function(a){"A"===a.target.tagName&&m(b(a.target))})}function j(a){var b,c,d,e,f=[];for(e=0;e<A.scrollTrackItems.length;e++)b=A.scrollTrackItems[e],c=b.offset().top,d=a>c+y,d?l(b):f.push(b);A.scrollTrackItems=f}function k(a){var b=a.data("track-click");n(a,{label:b})}function l(a){var b=a.data("track-scroll");n(a,{label:b})}function m(a){var b={action:a.text(),label:a.attr("href")};n(a,b)}function n(c,d){w(c)&&(d=d||{},b.each(["category","action","value","noninteraction"],function(a,b){var e;d[b]||(e=x(c,b),d[b]=e||B[b])}),a._gaq.push(["_trackEvent",d.category,d.action,d.label,d.value,d.noninteraction]))}function o(a,b){A.scrollbarTrackingContext=a,A.scrollbarTrackingBreakpoints=b}function p(){var a,c,d=b("[data-track-scroll]");for(a=0;a<d.length;a++)c=d.eq(a),A.scrollTrackItems.push(c)}function q(){c.on("scroll.event-tracker",function(){s()})}function r(){var a=v();j(a)}function s(){z&&(z=!1,setTimeout(function(){var a=v();j(a),A.scrollbarTrackingBreakpoints&&t(a),z=!0},150))}function t(b){var c,d,e,f,g,h,i,j=A.scrollbarTrackingContext.height(),k=A.scrollbarTrackingBreakpoints,l=[];for(var m in k)c=k[m][0],e=k[m][1],f=k[m][2],g=k[m][3],h=k[m][4],d=c.toString(),i=c*j/100,i>b?l.push(k[m]):(a._gaq.push(["_setCustomVar",e,f,d,g]),a._gaq.push(["_trackEvent",f,d,h,!0]));A.scrollbarTrackingBreakpoints=l}function u(){return c.scrollTop.apply(c,arguments)}function v(){return u()+c.height()}function w(a){var b=a.closest("[data-track-disabled]");return 0===b.length}function x(a,b){var c=a.closest("[data-track-"+b+"]");return c.data("track-"+b)}var y=30,z=!0,A={scrollTrackItems:[],scrollbarTrackingBreakpoints:null,scrollbarTrackingContext:null},B={value:0,noninteraction:!1};return{init:d,destroy:e,initClicks:g,initScroll:h,initLinks:i,push:n,pushClick:k,pushScroll:l,pushLink:m,getInfo:f,removeElementsVisualized:j,enableScrollbarTrackingByBreakpoint:o}}(),a.glb.ElementTracker.init()}(this,jQuery);
